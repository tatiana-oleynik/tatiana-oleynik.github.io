var link=document.querySelector(".map-button"),popup=document.querySelector(".feedback"),close=popup.querySelector(".button-close"),fieldName=popup.querySelector(".field-name"),email=popup.querySelector(".field-email"),comment=popup.querySelector(".feedback-area"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("feedback-show"),storage&&(email.value=storage),fieldName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("feedback-show")}),popup.addEventListener("submit",function(e){e.preventDefault()}),popup.addEventListener("submit",function(e){name.value&&email.value&&comment.value?isStorageSupport&&localStorage.setItem("email",email.value):(e.preventDefault(),console.log("Нужно заполнить поля"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("feedback-show")&&popup.classList.remove("feedback-show"))});
